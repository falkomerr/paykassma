import { $hovered, hoveredOrBlured } from '@/models/hero-model';
import { gateOpened } from '@/models/journey';
import Spline from '@splinetool/react-spline';
import { useUnit } from 'effector-react';
import { motion } from 'framer-motion';
import { useTranslation } from '../../hooks/useTranslation';
import { AnimatedButton } from '../ui/AnimatedButton';

export const Hero = () => {
  const { openGate, hoverOrBlur } = useUnit({
    openGate: gateOpened,
    hoverOrBlur: hoveredOrBlured,
  });
  const { hovered } = useUnit({
    hovered: $hovered,
  });
  const { t } = useTranslation();

  return (
    <section
      id="home"
      className="relative z-20 flex max-h-screen min-h-[calc(100vh-120px)] flex-col items-center justify-center">
      <div className="h-[35rem] h-screen w-screen bg-black max-lg:hidden">
        <Spline
          scene="https://prod.spline.design/VesmLhzpdoKoAkRX/scene.splinecode"
          className=""
        />
      </div>
      <div className="lg:hidden">
        <img
          src="/mobile-logo.svg"
          alt="hero"
          className="flex-1 object-cover"
        />
      </div>
      <div className="gilroy top-[50%] mb-10 max-w-[350px] text-center text-[4.2vw] leading-none font-normal text-[#ccc] lg:absolute lg:max-w-[650px] lg:text-[1.8vw]">
        {t('hero.description')}
      </div>

      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: hovered ? 1 : 0 }}
        transition={{ duration: 2.5, ease: 'linear' }}
        className="absolute inset-x-0 bottom-0 z-10 h-[40vh]">
        <HoverButtonEffectSpline />
      </motion.div>
      <div className="group top-[85%] lg:absolute" onClick={openGate}>
        <AnimatedButton
          onMouseEnter={() => hoverOrBlur(true)}
          onMouseLeave={() => hoverOrBlur(false)}
          variant="login"
          size="big"
          hasOwnAnimation={true}
          className="group/button relative z-20 cursor-pointer max-lg:hidden"
          onClick={openGate}>
          <div className="relative flex hidden items-center justify-center transition-all duration-500 group-hover/button:h-[3.1vw] group-hover/button:w-[14.1vw] lg:block lg:h-[3.40104166667vw] lg:w-[14.8541666667vw]">
            <div className="absolute inset-0 top-1/2 h-[1.11625vw] w-full -translate-y-1/2 overflow-hidden">
              <div className="absolute w-full text-[1.15625vw] leading-[1] opacity-100 transition-all duration-300 group-hover/button:-translate-y-full group-hover/button:opacity-0">
                {t('buttons.submit')}
              </div>
              <div className="absolute mt-0.5 w-full translate-y-full text-[4.5vw] leading-[1] transition-transform duration-300 group-hover/button:-translate-y-0.5 lg:text-[1.15625vw]">
                {t('buttons.submit')}
              </div>
            </div>
          </div>
        </AnimatedButton>
        <button
          className="relative z-[9999] h-fit w-fit cursor-pointer lg:hidden"
          onClick={openGate}>
          <svg
            onClick={openGate}
            width="282"
            height="73"
            viewBox="0 0 282 73"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M20.499 1.03809H261.499C272.13 1.03809 280.749 9.65661 280.749 20.2881V52.2881C280.749 62.9196 272.13 71.5381 261.499 71.5381H20.499C9.86754 71.5381 1.24902 62.9196 1.24902 52.2881V20.2881C1.24902 9.65661 9.86754 1.03809 20.499 1.03809Z"
              fill="url(#paint0_linear_12_30025)"
              fillOpacity="0.05"
            />
            <path
              d="M20.499 1.03809H261.499C272.13 1.03809 280.749 9.65661 280.749 20.2881V52.2881C280.749 62.9196 272.13 71.5381 261.499 71.5381H20.499C9.86754 71.5381 1.24902 62.9196 1.24902 52.2881V20.2881C1.24902 9.65661 9.86754 1.03809 20.499 1.03809Z"
              stroke="url(#paint1_linear_12_30025)"
              strokeWidth="1.5"
            />
            <path
              d="M42.0538 43.2881V30.1972H44.029V35.8861H50.5553V30.1972H52.5368V43.2881H50.5553V37.58H44.029V43.2881H42.0538ZM59.017 43.5054C58.3949 43.5054 57.8324 43.3904 57.3295 43.1602C56.8267 42.9259 56.4283 42.5871 56.1342 42.1439C55.8445 41.7007 55.6996 41.1574 55.6996 40.5139C55.6996 39.96 55.8061 39.504 56.0192 39.146C56.2322 38.7881 56.5199 38.5047 56.8821 38.2959C57.2443 38.0871 57.6491 37.9294 58.0966 37.8229C58.544 37.7164 59 37.6354 59.4645 37.58C60.0526 37.5118 60.5298 37.4564 60.8963 37.4138C61.2628 37.3669 61.5291 37.2923 61.6953 37.1901C61.8615 37.0878 61.9446 36.9216 61.9446 36.6915V36.6468C61.9446 36.0885 61.7869 35.656 61.4716 35.3492C61.1605 35.0423 60.696 34.8889 60.0781 34.8889C59.4347 34.8889 58.9276 35.0317 58.5568 35.3172C58.1903 35.5985 57.9368 35.9117 57.7962 36.2568L56 35.8477C56.2131 35.2512 56.5241 34.7696 56.9332 34.4031C57.3466 34.0324 57.8217 33.7639 58.3587 33.5977C58.8956 33.4273 59.4602 33.3421 60.0526 33.3421C60.4446 33.3421 60.8601 33.3889 61.299 33.4827C61.7422 33.5722 62.1555 33.7384 62.5391 33.9813C62.9268 34.2242 63.2443 34.5715 63.4915 35.0232C63.7386 35.4706 63.8622 36.0523 63.8622 36.7682V43.2881H61.9957V41.9458H61.919C61.7955 42.1929 61.6101 42.4358 61.3629 42.6744C61.1158 42.9131 60.7983 43.1112 60.4105 43.2689C60.0227 43.4266 59.5582 43.5054 59.017 43.5054ZM59.4325 41.9713C59.9609 41.9713 60.4126 41.8669 60.7876 41.6581C61.1669 41.4493 61.4545 41.1766 61.6506 40.8399C61.8509 40.499 61.951 40.1347 61.951 39.7469V38.4813C61.8828 38.5494 61.7507 38.6134 61.5547 38.673C61.3629 38.7284 61.1435 38.7774 60.8963 38.82C60.6491 38.8584 60.4084 38.8946 60.174 38.9287C59.9396 38.9585 59.7436 38.9841 59.5859 39.0054C59.2152 39.0523 58.8764 39.1311 58.5696 39.2419C58.267 39.3527 58.0241 39.5125 57.8409 39.7213C57.6619 39.9259 57.5724 40.1986 57.5724 40.5395C57.5724 41.0125 57.7472 41.3705 58.0966 41.6134C58.446 41.852 58.8913 41.9713 59.4325 41.9713ZM75.1892 33.4699V43.2881H73.3228V33.4699H75.1892ZM74.3774 38.0274V39.6766C74.0834 39.7959 73.7723 39.9024 73.4442 39.9962C73.1161 40.0857 72.7709 40.156 72.4087 40.2071C72.0465 40.2583 71.6694 40.2838 71.2773 40.2838C70.0628 40.2838 69.0976 39.9877 68.3817 39.3953C67.6658 38.7987 67.3078 37.8868 67.3078 36.6595V33.4507H69.1679V36.6595C69.1679 37.124 69.2532 37.5012 69.4236 37.7909C69.5941 38.0807 69.837 38.2938 70.1523 38.4301C70.4676 38.5665 70.8426 38.6347 71.2773 38.6347C71.8526 38.6347 72.3831 38.5814 72.8689 38.4749C73.359 38.3641 73.8618 38.2149 74.3774 38.0274ZM81.4889 43.5054C80.8668 43.5054 80.3043 43.3904 79.8014 43.1602C79.2986 42.9259 78.9001 42.5871 78.6061 42.1439C78.3163 41.7007 78.1714 41.1574 78.1714 40.5139C78.1714 39.96 78.278 39.504 78.4911 39.146C78.7041 38.7881 78.9918 38.5047 79.354 38.2959C79.7162 38.0871 80.121 37.9294 80.5685 37.8229C81.0159 37.7164 81.4719 37.6354 81.9364 37.58C82.5244 37.5118 83.0017 37.4564 83.3682 37.4138C83.7347 37.3669 84.001 37.2923 84.1672 37.1901C84.3334 37.0878 84.4165 36.9216 84.4165 36.6915V36.6468C84.4165 36.0885 84.2588 35.656 83.9435 35.3492C83.6324 35.0423 83.1679 34.8889 82.55 34.8889C81.9065 34.8889 81.3994 35.0317 81.0287 35.3172C80.6622 35.5985 80.4087 35.9117 80.268 36.2568L78.4719 35.8477C78.6849 35.2512 78.996 34.7696 79.4051 34.4031C79.8185 34.0324 80.2936 33.7639 80.8305 33.5977C81.3675 33.4273 81.9321 33.3421 82.5244 33.3421C82.9165 33.3421 83.332 33.3889 83.7709 33.4827C84.2141 33.5722 84.6274 33.7384 85.0109 33.9813C85.3987 34.2242 85.7162 34.5715 85.9634 35.0232C86.2105 35.4706 86.3341 36.0523 86.3341 36.7682V43.2881H84.4676V41.9458H84.3909C84.2673 42.1929 84.082 42.4358 83.8348 42.6744C83.5876 42.9131 83.2702 43.1112 82.8824 43.2689C82.4946 43.4266 82.0301 43.5054 81.4889 43.5054ZM81.9044 41.9713C82.4328 41.9713 82.8845 41.8669 83.2595 41.6581C83.6388 41.4493 83.9264 41.1766 84.1224 40.8399C84.3227 40.499 84.4229 40.1347 84.4229 39.7469V38.4813C84.3547 38.5494 84.2226 38.6134 84.0266 38.673C83.8348 38.7284 83.6153 38.7774 83.3682 38.82C83.121 38.8584 82.8803 38.8946 82.6459 38.9287C82.4115 38.9585 82.2155 38.9841 82.0578 39.0054C81.6871 39.0523 81.3483 39.1311 81.0415 39.2419C80.7389 39.3527 80.496 39.5125 80.3128 39.7213C80.1338 39.9259 80.0443 40.1986 80.0443 40.5395C80.0443 41.0125 80.219 41.3705 80.5685 41.6134C80.9179 41.852 81.3632 41.9713 81.9044 41.9713ZM88.562 35.1191V33.4699H96.8461V35.1191H93.6437V43.2881H91.7772V35.1191H88.562ZM101.206 36.8449H104.057C105.258 36.8449 106.183 37.1432 106.831 37.7398C107.479 38.3364 107.802 39.1056 107.802 40.0473C107.802 40.661 107.658 41.2128 107.368 41.7029C107.078 42.1929 106.654 42.5807 106.096 42.8662C105.537 43.1475 104.858 43.2881 104.057 43.2881H99.7676V33.4699H101.64V41.6389H104.057C104.606 41.6389 105.058 41.4962 105.412 41.2107C105.765 40.9209 105.942 40.5523 105.942 40.1048C105.942 39.6318 105.765 39.2462 105.412 38.9479C105.058 38.6453 104.606 38.4941 104.057 38.4941H101.206V36.8449ZM116.509 43.2881V33.4699H124.518V43.2881H122.645V35.1191H118.369V43.2881H116.509ZM128.83 46.9699C128.544 46.9699 128.285 46.9465 128.05 46.8996C127.816 46.857 127.641 46.8101 127.526 46.759L127.986 45.1929C128.336 45.2867 128.647 45.3271 128.919 45.3144C129.192 45.3016 129.433 45.1993 129.642 45.0075C129.855 44.8158 130.042 44.5026 130.204 44.0679L130.441 43.4159L126.848 33.4699H128.894L131.38 41.0892H131.483L133.969 33.4699H136.021L131.975 44.5985C131.787 45.1098 131.549 45.5423 131.259 45.896C130.969 46.254 130.624 46.5225 130.223 46.7014C129.823 46.8804 129.358 46.9699 128.83 46.9699ZM138.168 35.1191V33.4699H146.452V35.1191H143.249V43.2881H141.383V35.1191H138.168ZM153.148 43.4862C152.18 43.4862 151.347 43.2796 150.648 42.8662C149.954 42.4486 149.417 41.8627 149.037 41.1084C148.662 40.3499 148.475 39.4614 148.475 38.4429C148.475 37.4372 148.662 36.5509 149.037 35.7838C149.417 35.0168 149.945 34.4181 150.623 33.9877C151.305 33.5573 152.101 33.3421 153.013 33.3421C153.567 33.3421 154.104 33.4337 154.624 33.6169C155.144 33.8002 155.611 34.0878 156.024 34.4798C156.437 34.8719 156.763 35.3811 157.002 36.0075C157.241 36.6297 157.36 37.3861 157.36 38.2767V38.9543H149.555V37.5225H155.487C155.487 37.0196 155.385 36.5743 155.18 36.1865C154.976 35.7945 154.688 35.4855 154.317 35.2597C153.951 35.0338 153.52 34.9209 153.026 34.9209C152.489 34.9209 152.02 35.053 151.62 35.3172C151.224 35.5771 150.917 35.9181 150.699 36.3399C150.486 36.7575 150.38 37.2114 150.38 37.7014V38.82C150.38 39.4763 150.495 40.0345 150.725 40.4948C150.959 40.955 151.285 41.3066 151.703 41.5494C152.121 41.7881 152.609 41.9074 153.167 41.9074C153.529 41.9074 153.859 41.8563 154.158 41.754C154.456 41.6475 154.714 41.4898 154.931 41.281C155.148 41.0722 155.314 40.8144 155.43 40.5075L157.238 40.8335C157.094 41.3662 156.834 41.8328 156.459 42.2334C156.088 42.6297 155.621 42.9387 155.059 43.1602C154.501 43.3776 153.863 43.4862 153.148 43.4862ZM160.381 33.4699H162.253V41.6325H165.648V33.4699H167.52V41.6325H170.915V33.4699H172.787V43.2881H160.381V33.4699ZM180.471 43.4862C179.504 43.4862 178.671 43.2796 177.972 42.8662C177.277 42.4486 176.74 41.8627 176.361 41.1084C175.986 40.3499 175.798 39.4614 175.798 38.4429C175.798 37.4372 175.986 36.5509 176.361 35.7838C176.74 35.0168 177.269 34.4181 177.946 33.9877C178.628 33.5573 179.425 33.3421 180.337 33.3421C180.891 33.3421 181.428 33.4337 181.948 33.6169C182.467 33.8002 182.934 34.0878 183.347 34.4798C183.761 34.8719 184.087 35.3811 184.325 36.0075C184.564 36.6297 184.683 37.3861 184.683 38.2767V38.9543H176.879V37.5225H182.811C182.811 37.0196 182.708 36.5743 182.504 36.1865C182.299 35.7945 182.011 35.4855 181.641 35.2597C181.274 35.0338 180.844 34.9209 180.35 34.9209C179.813 34.9209 179.344 35.053 178.943 35.3172C178.547 35.5771 178.24 35.9181 178.023 36.3399C177.81 36.7575 177.703 37.2114 177.703 37.7014V38.82C177.703 39.4763 177.818 40.0345 178.048 40.4948C178.283 40.955 178.609 41.3066 179.026 41.5494C179.444 41.7881 179.932 41.9074 180.49 41.9074C180.852 41.9074 181.183 41.8563 181.481 41.754C181.779 41.6475 182.037 41.4898 182.254 41.281C182.472 41.0722 182.638 40.8144 182.753 40.5075L184.562 40.8335C184.417 41.3662 184.157 41.8328 183.782 42.2334C183.411 42.6297 182.945 42.9387 182.382 43.1602C181.824 43.3776 181.187 43.4862 180.471 43.4862ZM191.84 43.4862C190.889 43.4862 190.071 43.271 189.385 42.8406C188.703 42.406 188.179 41.8073 187.813 41.0445C187.446 40.2817 187.263 39.4081 187.263 38.4237C187.263 37.4266 187.45 36.5466 187.825 35.7838C188.2 35.0168 188.729 34.4181 189.411 33.9877C190.092 33.5573 190.896 33.3421 191.82 33.3421C192.566 33.3421 193.231 33.4806 193.815 33.7575C194.399 34.0303 194.869 34.4138 195.227 34.9081C195.59 35.4024 195.805 35.9798 195.873 36.6404H194.013C193.911 36.1801 193.676 35.7838 193.31 35.4514C192.948 35.1191 192.462 34.9529 191.852 34.9529C191.32 34.9529 190.853 35.0935 190.453 35.3747C190.056 35.6517 189.747 36.048 189.526 36.5637C189.304 37.075 189.193 37.6801 189.193 38.379C189.193 39.0949 189.302 39.7128 189.519 40.2327C189.737 40.7526 190.043 41.1553 190.44 41.4408C190.84 41.7263 191.311 41.8691 191.852 41.8691C192.215 41.8691 192.543 41.803 192.837 41.6709C193.135 41.5345 193.384 41.3406 193.585 41.0892C193.789 40.8378 193.932 40.5352 194.013 40.1816H195.873C195.805 40.8165 195.598 41.3833 195.253 41.8818C194.908 42.3804 194.445 42.7725 193.866 43.058C193.291 43.3435 192.615 43.4862 191.84 43.4862ZM198.074 35.1191V33.4699H206.358V35.1191H203.155V43.2881H201.289V35.1191H198.074ZM209.279 43.2881V33.4699H213.351C214.459 33.4699 215.337 33.7064 215.985 34.1794C216.632 34.6482 216.956 35.2852 216.956 36.0906C216.956 36.6659 216.773 37.1219 216.406 37.4585C216.04 37.7952 215.554 38.021 214.949 38.1361C215.388 38.1872 215.791 38.3193 216.157 38.5324C216.524 38.7412 216.818 39.0225 217.039 39.3762C217.265 39.7298 217.378 40.1517 217.378 40.6418C217.378 41.1617 217.244 41.6219 216.975 42.0225C216.707 42.4188 216.317 42.7298 215.806 42.9557C215.299 43.1773 214.687 43.2881 213.971 43.2881H209.279ZM211.076 41.6901H213.971C214.444 41.6901 214.815 41.5771 215.083 41.3513C215.352 41.1254 215.486 40.8186 215.486 40.4308C215.486 39.9749 215.352 39.6169 215.083 39.357C214.815 39.0928 214.444 38.9607 213.971 38.9607H211.076V41.6901ZM211.076 37.5608H213.37C213.728 37.5608 214.035 37.5097 214.291 37.4074C214.551 37.3051 214.749 37.1602 214.885 36.9727C215.026 36.781 215.096 36.5551 215.096 36.2952C215.096 35.9159 214.941 35.6198 214.629 35.4067C214.318 35.1936 213.892 35.0871 213.351 35.0871H211.076V37.5608ZM222.248 40.6098L226.575 33.4699H228.633V43.2881H226.76V36.1418L222.452 43.2881H220.375V33.4699H222.248V40.6098ZM236.334 43.4862C235.367 43.4862 234.534 43.2796 233.835 42.8662C233.14 42.4486 232.603 41.8627 232.224 41.1084C231.849 40.3499 231.662 39.4614 231.662 38.4429C231.662 37.4372 231.849 36.5509 232.224 35.7838C232.603 35.0168 233.132 34.4181 233.809 33.9877C234.491 33.5573 235.288 33.3421 236.2 33.3421C236.754 33.3421 237.291 33.4337 237.811 33.6169C238.331 33.8002 238.797 34.0878 239.211 34.4798C239.624 34.8719 239.95 35.3811 240.189 36.0075C240.427 36.6297 240.547 37.3861 240.547 38.2767V38.9543H232.742V37.5225H238.674C238.674 37.0196 238.572 36.5743 238.367 36.1865C238.162 35.7945 237.875 35.4855 237.504 35.2597C237.138 35.0338 236.707 34.9209 236.213 34.9209C235.676 34.9209 235.207 35.053 234.807 35.3172C234.41 35.5771 234.103 35.9181 233.886 36.3399C233.673 36.7575 233.567 37.2114 233.567 37.7014V38.82C233.567 39.4763 233.682 40.0345 233.912 40.4948C234.146 40.955 234.472 41.3066 234.89 41.5494C235.307 41.7881 235.795 41.9074 236.353 41.9074C236.716 41.9074 237.046 41.8563 237.344 41.754C237.643 41.6475 237.9 41.4898 238.118 41.281C238.335 41.0722 238.501 40.8144 238.616 40.5075L240.425 40.8335C240.28 41.3662 240.02 41.8328 239.645 42.2334C239.275 42.6297 238.808 42.9387 238.246 43.1602C237.687 43.3776 237.05 43.4862 236.334 43.4862Z"
              fill="white"
              fillOpacity="0.9"
            />
            <defs>
              <linearGradient
                id="paint0_linear_12_30025"
                x1="281.499"
                y1="37.3788"
                x2="0.49899"
                y2="37.3788"
                gradientUnits="userSpaceOnUse">
                <stop offset="0.046883" stopColor="#FFAC64" />
                <stop offset="1" stopColor="#FFB901" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_12_30025"
                x1="20.504"
                y1="0.288076"
                x2="182.222"
                y2="156.982"
                gradientUnits="userSpaceOnUse">
                <stop stopColor="#515150" />
                <stop offset="0.465842" stopColor="#FFB901" />
                <stop offset="1" stopColor="#515150" />
              </linearGradient>
            </defs>
          </svg>
        </button>
      </div>
    </section>
  );
};

const HoverButtonEffectSpline = () => {
  return (
    <Spline scene="https://prod.spline.design/flZ40S72FHxLA7Nv/scene.splinecode" />
  );
};
